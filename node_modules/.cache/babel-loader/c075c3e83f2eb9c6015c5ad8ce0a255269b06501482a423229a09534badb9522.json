{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\morning\\\\FrontEnd\\\\src\\\\components\\\\TotalContacts\\\\Functionalities\\\\ExportFile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./importfile.css\";\nimport NoteAddIcon from \"@mui/icons-material/NoteAdd\";\nimport Button from \"@mui/material/Button\";\nimport axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExportFile = props => {\n  _s();\n  // const navigate = useNavigate();\n  const [file, setFile] = useState(null);\n\n  //=============== FILE UPLOAD  ===========\n  const handleFileUpload = e => {\n    setFile(e.target.files[0]);\n  };\n\n  //============== FILE DROPED AND DATA TRANSFER ========\n  const handleFileDrop = async e => {\n    e.preventDefault();\n    setFile(e.dataTransfer.files[0]);\n  };\n\n  //==============  CANCEL THE POP UP CARD ==========\n  const Cancel = () => {\n    props.setfile(false);\n    setFile(null);\n  };\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const userId = JSON.parse(localStorage.getItem(\"userdetails\"))._id;\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"userId\", userId);\n    try {\n      axios.post(`http://localhost:5050/addcontact`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: token\n        }\n      }).then(response => {\n        props.reFetch();\n        props.setfile(false);\n        props.importCompletStatus(true);\n        setFile(null);\n        setTimeout(() => {\n          props.importCompletStatus(false);\n        }, 3000);\n      }).catch(error => {\n        console.error(error);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }, [file, props]);\n  return props.trigger ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"box\",\n        onDrop: handleFileDrop,\n        onDragOver: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(NoteAddIcon, {\n          sx: {\n            fontSize: 30\n          },\n          color: \"primary\",\n          className: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-head\",\n          children: \"Import File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), !file && /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"drop\",\n          children: \"Drag & Drop a CSV File to Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), file && /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"drop\",\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleFileUpload,\n          style: {\n            display: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn\",\n          onClick: Cancel,\n          variant: \"contained\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), props.children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this) : \"\";\n};\n_s(ExportFile, \"maWFb9JBMb/mOWOFaPFoKPXdTX0=\");\n_c = ExportFile;\nexport default ExportFile;\nvar _c;\n$RefreshReg$(_c, \"ExportFile\");","map":{"version":3,"names":["React","useState","useEffect","NoteAddIcon","Button","axios","ExportFile","props","file","setFile","handleFileUpload","e","target","files","handleFileDrop","preventDefault","dataTransfer","Cancel","setfile","userId","JSON","parse","localStorage","getItem","_id","token","formData","FormData","append","post","headers","Authorization","then","response","reFetch","importCompletStatus","setTimeout","catch","error","console","trigger","fontSize","name","display","children"],"sources":["C:/Users/asus/Desktop/morning/FrontEnd/src/components/TotalContacts/Functionalities/ExportFile.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./importfile.css\";\nimport NoteAddIcon from \"@mui/icons-material/NoteAdd\";\nimport Button from \"@mui/material/Button\";\nimport axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n\nconst ExportFile = (props) => {\n  // const navigate = useNavigate();\n  const [file, setFile] = useState(null);\n\n//=============== FILE UPLOAD  ===========\n  const handleFileUpload = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n//============== FILE DROPED AND DATA TRANSFER ========\n  const handleFileDrop = async (e) => {\n    e.preventDefault();\n    setFile(e.dataTransfer.files[0]);\n  };\n\n//==============  CANCEL THE POP UP CARD ==========\n  const Cancel = () => {\n    props.setfile(false);\n    setFile(null);\n  };\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const userId = JSON.parse(localStorage.getItem(\"userdetails\"))._id;\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"userId\", userId);\n    try {\n      axios\n        .post(\n          `http://localhost:5050/addcontact`,\n          formData,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n              Authorization: token,\n            },\n          }\n        )\n        .then((response) => {\n          props.reFetch();\n          props.setfile(false);\n          props.importCompletStatus(true);\n          setFile(null);\n          setTimeout(() => {\n            props.importCompletStatus(false);\n          }, 3000);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    } catch (error) {\n      console.error(error);\n    }\n  }, [file, props]);\n\n\n\n  return props.trigger ? (\n    <React.Fragment>\n      <div className=\"container\">\n        <section\n          className=\"box\"\n          onDrop={handleFileDrop}\n          onDragOver={(e) => e.preventDefault()}\n        >\n          <NoteAddIcon sx={{ fontSize: 30 }} color=\"primary\" className=\"icon\" />\n          <h4 className=\"text-head\">Import File</h4>\n          {!file && <h5 className=\"drop\">Drag & Drop a CSV File to Upload</h5>}\n          {file && <h5 className=\"drop\">{file.name}</h5>}\n          <input\n            type=\"file\"\n            onChange={handleFileUpload}\n            style={{ display: \"none\" }}\n          />\n          <Button className=\"btn\" onClick={Cancel} variant=\"contained\">\n            Cancel\n          </Button>\n        </section>\n      </div>\n      {props.children}\n    </React.Fragment>\n  ) : (\n    \"\"\n  );\n};\n\nexport default ExportFile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}